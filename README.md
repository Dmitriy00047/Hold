# HoldExpress

## Star up

`docker-compose up`

## API
* Получение данных пользователя
    ```
        request: {
            url: /api/user
            method: GET
            headers: {
                token
            }
        }

        response: {
            body: {
                name,
                record
            }
        }
    ```

* Добавление пользователя
    ```
        request: {
            url: /api/user
            method: POST
            body: {
                uuid - ид устройства
            }
        }

        response: {
            token
        }
    ```

* Удаление пользователя
    ```
        request: {
            url: /api/user
            method: DELETE
            headers: {
                token
            }
        }

        response: {}
    ```

* Сохранить выбранные настройки пользователя
    ```
        request: {
            url: /api/settings
            method: PUT
            headers: {
                token
            },
            //Отправляешь что изменилось
            body: {
                sound - включен ли звук.Допустимые значения true или false
                vibrate - включена ли вибрация.Допустимые значения true или false
                name - имя пользователя
            }
        }

        response: {}
    ```

* Получить настройки пользователя
    ```
        request: {
            url: /api/settings
            method: GET
            headers: {
                token
            }
        }
        //возвращаю что есть
        response: {
            body: {
                sound, - включен ли звук.Допустимые значения true или false
                vibrate, - включена ли вибрация.Допустимые значения true или false
                name - имя пользователя
            }
    ```

* Получение результатов пользователя по принципу результаты до и после меня
    ``` 
        request: {
            url: /api/rating
            method: GET
            headers: {
                token - сформированный токен, по которому будет происходить авторизация
            },
            body: {
                *не обязательно можно пустое тело: по-умолчанию буду присылать 4:4
                worse_count - кол - во результатов хуже, чем лучший у пользователя
                better_count - кол - во результатов лучше, чем лучший у пользователя
            }
        }

        response: {
            body: {
                worse[] - сформированный массив результатов.Каждый элемент массива - пара[имя пользователя, лучший результат]
                better[] - сформированный массив результатов.Каждый элемент массива - пара[имя пользователя, лучший результат]
            }
        }
    ```

* Добавление результата пользователя в копилку его результатов и если результат больше рекорда, то обновить рекорд
    ```
        request: {
            url: /api/results
            method: POST
            headers: {
                token - сформированный токен, по которому будет происходить авторизация
            },
            body: {
                result: - результат пользователя
            }
        }

        response: {}
    ```

* Получение всех попыток пользователя.Служебная инфа для отладки, + покажет активность.
    ```
        request: {
            url: /api/results
            method: GET
            headers: {
                token - сформированный токен, по которому будет происходить авторизация
            }
        }

        response: {
            body: {
                results[] - все результаты пользователя, массив чисел
            }
        }
    ```
